<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HSK: доска визуализации</title>
  <style>
    :root{
      --bg:#0f1220;
      --card:#171b2e;
      --muted:#9aa3b2;
      --grid-gap:6px;
      --radius:12px;
      --known:#2e7d32;
      --unknown:#394264;
      --level1:#f9d264; --level2:#5db4c7; --level3:#f58052;
      --level4:#dd4b4b; --level5:#274d7c; --level6:#6a4c9c;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      background:linear-gradient(180deg,#0b0e1a,#0f1220 40%);
      color:#e7ecf3;
      -webkit-font-smoothing:antialiased;
      padding: clamp(12px, 2vw, 20px);
    }
    header{
      display:flex; flex-wrap:wrap; gap:12px; align-items:center; justify-content:space-between; margin-bottom:14px;
    }
    h1{font-size:clamp(22px,4vw,30px); margin:0; letter-spacing:.5px}
    .bar{display:flex; flex-wrap:wrap; gap:8px; align-items:center}
    .pill{
      background:var(--card); color:#fff; border:1px solid #232949; border-radius:999px;
      padding:8px 12px; display:inline-flex; align-items:center; gap:8px; line-height:1;
    }
    .pill input, .pill select{background:transparent; border:0; color:#fff; outline:0}
    button{
      background:#2a3160; border:1px solid #3c4480; padding:10px 14px; border-radius:10px; color:#fff; cursor:pointer;
    }
    button:hover{filter:brightness(1.1)}
    .legend{display:flex; gap:8px; flex-wrap:wrap}
    .badge{display:flex; align-items:center; gap:6px; background:#1b2040; border:1px solid #283062; border-radius:999px; padding:6px 10px; font-size:12px; color:#cfd6e6}
    .dot{width:12px; height:12px; border-radius:3px}
    .grid{
      display:grid; gap:var(--grid-gap);
      grid-template-columns: repeat(auto-fill, minmax(42px, 1fr));
      align-items:stretch;
    }
    .cell{
      aspect-ratio:1/1; display:flex; align-items:center; justify-content:center;
      background:var(--unknown);
      border:1px solid #46507a;
      border-radius:10px; font-size:20px; user-select:none; position:relative; cursor:pointer;
      transition: transform .06s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
      box-shadow: 0 0 0 0 rgba(0,0,0,0);
    }
    .cell:active{ transform: scale(.98) }
    .cell[data-known="1"]{ background:var(--known); border-color:#49a34e }
    .cell[data-level="1"]{ --unknown:var(--level1) }
    .cell[data-level="2"]{ --unknown:var(--level2) }
    .cell[data-level="3"]{ --unknown:var(--level3) }
    .cell[data-level="4"]{ --unknown:var(--level4) }
    .cell[data-level="5"]{ --unknown:var(--level5) }
    .cell[data-level="6"]{ --unknown:var(--level6) }
    .toolbar{display:flex; gap:8px; flex-wrap:wrap; margin:8px 0 14px}
    .stats{font-size:14px; color:var(--muted)}
    dialog::backdrop{background:rgba(5,8,20,.5); backdrop-filter: blur(2px)}
    dialog{
      border:1px solid #2f3869; background:var(--card); color:#fff; border-radius:16px;
      padding:14px; max-width:480px; width:calc(100% - 32px);
      box-shadow: 0 10px 30px rgba(0,0,0,.4);
    }
    .sheet-header{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px}
    .han{font-size:48px; line-height:1}
    .meta{display:flex; flex-direction:column; gap:4px; color:#cfd6e6}
    .meta b{color:#fff}
    .actions{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px}
    .sr-only{position:absolute; left:-9999px}
    .empty{padding:30px; text-align:center; color:#9aa3b2; border:1px dashed #303760; border-radius:12px}
    .footer-note{margin-top:12px; color:#9aa3b2; font-size:12px}
  </style>
</head>
<body>
  <header>
    <h1>HSK: доска визуализации</h1>
    <div class="bar">
      <label class="pill">Уровень:
        <select id="levelFilter">
          <option value="all">все</option>
          <option value="1">HSK1</option>
          <option value="2">HSK2</option>
          <option value="3">HSK3</option>
          <option value="4">HSK4</option>
          <option value="5">HSK5</option>
          <option value="6">HSK6</option>
        </select>
      </label>
      <label class="pill">Поиск:
        <input id="searchBox" placeholder="汉字 / pinyin / перевод" />
      </label>
      <button id="importCsvBtn">Импорт CSV</button>
      <button id="exportBtn">Экспорт прогресса</button>
      <button id="resetBtn" title="Сбросить отметки">Сброс</button>
    </div>
  </header>

  <div class="legend">
    <span class="badge"><span class="dot" style="background:var(--level1)"></span>HSK1</span>
    <span class="badge"><span class="dot" style="background:var(--level2)"></span>HSK2</span>
    <span class="badge"><span class="dot" style="background:var(--level3)"></span>HSK3</span>
    <span class="badge"><span class="dot" style="background:var(--level4)"></span>HSK4</span>
    <span class="badge"><span class="dot" style="background:var(--level5)"></span>HSK5</span>
    <span class="badge"><span class="dot" style="background:var(--level6)"></span>HSK6</span>
  </div>

  <div class="toolbar stats" id="stats"></div>

  <div id="grid" class="grid" role="list"></div>

  <dialog id="sheet">
    <div class="sheet-header">
      <div class="han" id="d-han">好</div>
      <div class="meta">
        <div><b>Пиньинь:</b> <span id="d-py"></span></div>
        <div><b>Перевод:</b> <span id="d-tr"></span></div>
        <div><b>Уровень:</b> <span id="d-level"></span></div>
      </div>
      <button id="closeBtn" aria-label="Закрыть">✕</button>
    </div>
    <div class="actions">
      <button id="toggleKnownBtn">Отметить как выучено</button>
      <button id="copyBtn">Скопировать</button>
    </div>
  </dialog>

  <input type="file" id="fileInput" class="sr-only" accept=".csv,text/csv" />

  <p class="footer-note">
    Подсказка: нажми на любой иероглиф, чтобы открыть карточку. Отметки сохраняются на устройстве (localStorage).
  </p>

<script>
// --- Data loading ---
const sampleCSV = `﻿level,han,pinyin,ru
1,上,shàng,подниматься; на
1,不,bù,не
1,个,gè,счётное слово
1,书,shū,книга
1,买,mǎi,покупать
1,了,le,глагольный суффикс
1,些,xiē,несколько
1,人,rén,человек
1,他,tā,он
1,会,huì,уметь; встреча
1,住,zhù,жить
1,你,nǐ,ты
1,做,zuò,делать
1,写,xiě,писать
1,冷,lěng,холодный
1,几,jǐ,сколько
1,去,qù,идти
1,叫,jiào,звать; называться
1,号,hào,число; дата
1,吃,chī,есть; кушать
1,吗,ma,вопросительная частица
1,听,tīng,слушать
1,呢,ne,вопросительная частица
1,和,hé,и; с
1,哪,nǎ,какой
1,喂,wèi,алло
1,喝,hē,пить
1,回,huí,возвращаться
1,在,zài,в; находиться
1,坐,zuò,сидеть
1,块,kuài,счётное слово для денег; кусок
1,多,duō,много
1,大,dà,большой
1,太,tài,слишком
1,她,tā,она
1,好,hǎo,хороший
1,字,zì,иероглиф; слово
1,家,jiā,дом; семья
1,小,xiǎo,маленький
1,少,shǎo,мало
1,岁,suì,годы (возраст)
1,年,nián,год
1,开,kāi,открывать; начинать
1,很,hěn,очень
1,想,xiǎng,думать; хотеть
1,我,wǒ,я
1,是,shì,быть (являться)
1,月,yuè,месяц; луна
1,有,yǒu,иметь; есть
1,本,běn,счётное слово для книг
1,来,lái,приходить
1,水,shuǐ,вода
1,点,diǎn,немного; точка
1,热,rè,горячий
1,爱,ài,любить
1,狗,gǒu,собака
1,猫,māo,кошка
1,的,de,притяжательная частица
1,看,kàn,смотреть; читать
1,能,néng,мочь
1,茶,chá,чай
1,菜,cài,овощи; блюдо
1,说,shuō,говорить
1,请,qǐng,пожалуйста; просить
1,读,dú,читать
1,谁,shéi/shuí,кто
1,这,zhè,этот
1,那,nà,тот
1,都,dōu,все
1,里,lǐ,внутри
1,钱,qián,деньги
1,一,yī,один
1,七,qī,семь
1,三,sān,три
1,下,xià,спускаться; под
1,九,jiǔ,девять
1,二,èr,два
1,五,wǔ,пять
1,八,bā,восемь
1,六,liù,шесть
1,十,shí,десять
1,四,sì,четыре
1,上午,shàngwǔ,до полудня
1,下午,xiàwǔ,после полудня
1,下雨,xiàyǔ,идёт дождь
1,东西,dōngxi,вещь; предмет
1,中午,zhōngwǔ,полдень
1,中国,Zhōngguó,Китай
1,什么,shénme,что
1,今天,jīntiān,сегодня
1,儿子,érzi,сын
1,先生,xiānsheng,господин; учитель
1,再见,zàijiàn,до свидания
1,分钟,fēnzhōng,минута
1,前面,qiánmiàn,спереди; перед
1,北京,Běijīng,Пекин
1,医生,yīshēng,врач
1,医院,yīyuàn,больница
1,同学,tóngxué,одноклассник; соученик
1,名字,míngzi,имя
1,后面,hòumiàn,сзади; позади
1,哪儿,nǎr,где
1,商店,shāngdiàn,магазин
1,喜欢,xǐhuan,нравиться
1,多少,duōshao,сколько
1,天气,tiānqì,погода
1,女儿,nǚ'ér,дочь
1,妈妈,māma,мама
1,学习,xuéxí,учиться
1,学校,xuéxiào,школа
1,学生,xuéshēng,ученик; студент
1,小姐,xiǎojie,мисс; девушка
1,工作,gōngzuò,работа; работать
1,怎么,zěnme,как
1,我们,wǒmen,мы
1,时候,shíhou,время; момент
1,明天,míngtiān,завтра
1,星期,xīngqī,неделя
1,昨天,zuótiān,вчера
1,朋友,péngyou,друг
1,杯子,bēizi,чашка; стакан
1,桌子,zhuōzi,стол
1,椅子,yǐzi,стул
1,水果,shuǐguǒ,фрукты
1,汉语,Hànyǔ,китайский язык
1,没有,méiyǒu,не иметь; нет
1,漂亮,piàoliang,красивый
1,爸爸,bàba,папа
1,现在,xiànzài,сейчас
1,电影,diànyǐng,кино
1,电视,diànshì,телевизор
1,电脑,diànnǎo,компьютер
1,看见,kànjiàn,увидеть
1,睡觉,shuìjiào,спать
1,米饭,mǐfàn,варёный рис
1,老师,lǎoshī,учитель
1,苹果,píngguǒ,яблоко
1,衣服,yīfu,одежда
1,认识,rènshi,знать; быть знакомым
1,谢谢,xièxie,спасибо
1,飞机,fēijī,самолёт
1,饭店,fàndiàn,ресторан; гостиница
1,高兴,gāoxìng,радоваться
1,一点儿,yīdiǎnr,немного; чуть-чуть
1,不客气,bú kèqi,не за что
1,出租车,chūzūchē,такси
1,对不起,duìbuqǐ,извините
1,怎么样,zěnmeyàng,как?; каков?
1,打电话,dǎ diànhuà,звонить по телефону
1,没关系,méi guānxi,ничего страшного
2,两,liǎng,два
2,也,yě,тоже
2,从,cóng,от; из
2,件,jiàn,счётное слово для вещей
2,再,zài,снова; ещё раз
2,最,zuì,самый
2,出,chū,выходить
2,别,bié,не (повелительное)
2,到,dào,прибывать; до
2,千,qiān,тысяча
2,吧,ba,модальная частица
2,外,wài,внешний; снаружи
2,女,nǚ,женщина
2,姓,xìng,фамилия
2,它,tā,оно (для животных/вещей)
2,完,wán,заканчивать
2,对,duì,правильный; к
2,对,duì,пара
2,就,jiù,именно; тогда
2,往,wǎng,направляться к
2,得,de,структурная частица
2,忙,máng,быть занятым
2,快,kuài,быстрый
2,您,nín,Вы (вежливая форма)
2,慢,màn,медленный
2,懂,dǒng,понимать
2,找,zhǎo,искать
2,新,xīn,новый
2,日,rì,день; солнце
2,晴,qíng,ясный (о погоде)
2,次,cì,раз (счётное слово)
2,每,měi,каждый
2,比,bǐ,сравнивать
2,洗,xǐ,мыть; стирать
2,男,nán,мужчина
2,白,bái,белый
2,百,bǎi,сто
2,真,zhēn,настоящий; действительно
2,着,zhe,суффикс продолженного вида
2,票,piào,билет
2,离,lí,отстоять от
2,穿,chuān,носить (одежду)
2,笑,xiào,смеяться
2,等,děng,ждать
2,红,hóng,красный
2,给,gěi,давать
2,药,yào,лекарство
2,要,yào,хотеть; нужно
2,让,ràng,позволять
2,课,kè,урок
2,贵,guì,дорогой
2,走,zǒu,идти
2,路,lù,дорога
2,过,guò,проходить; переживать
2,近,jìn,близкий
2,还,hái,ещё
2,进,jìn,входить
2,远,yuǎn,далёкий
2,送,sòng,провожать; дарить
2,错,cuò,ошибка; неправильный
2,长,cháng,длинный
2,门,mén,дверь
2,问,wèn,спрашивать
2,阴,yīn,пасмурный
2,雪,xuě,снег
2,零,líng,ноль
2,题,tí,вопрос; задача
2,高,gāo,высокий
2,鱼,yú,рыба
2,黑,hēi,чёрный
2,卖,mài,продавать
2,玩,wán,играть
2,累,lèi,усталый
2,一下,yīxià,немного; короткое время
2,一起,yīqǐ,вместе
2,丈夫,zhàngfu,муж
2,上班,shàngbān,идти на работу
2,事情,shìqing,дело; вопрос
2,介绍,jièshào,представлять
2,休息,xiūxi,отдыхать
2,便宜,piányi,дешёвый
2,公司,gōngsī,компания
2,准备,zhǔnbèi,готовить; подготовка
2,去年,qùnián,прошлый год
2,可以,kěyǐ,можно
2,可能,kěnéng,возможно
2,右边,yòubian,правая сторона
2,告诉,gàosu,сообщать
2,咖啡,kāfēi,кофе
2,哥哥,gēge,старший брат
2,唱歌,chànggē,петь песни
2,大家,dàjiā,все
2,好吃,hǎochī,вкусный
2,妹妹,mèimei,младшая сестра
2,妻子,qīzi,жена
2,姐姐,jiějie,старшая сестра
2,孩子,háizi,ребёнок
2,宾馆,bīnguǎn,гостиница
2,小时,xiǎoshí,час
2,左边,zuǒbian,левая сторона
2,已经,yǐjīng,уже
2,希望,xīwàng,надеяться; надежда
2,帮助,bāngzhù,помогать; помощь
2,开始,kāishǐ,начинать; начало
2,弟弟,dìdi,младший брат
2,快乐,kuàilè,счастливый
2,意思,yìsi,значение; смысл
2,房间,fángjiān,комната
2,手机,shǒujī,мобильный телефон
2,手表,shǒubiǎo,наручные часы
2,报纸,bàozhǐ,газета
2,教室,jiàoshì,класс; аудитория
2,旁边,pángbiān,рядом
2,旅游,lǚyóu,путешествовать
2,早上,zǎoshang,утро
2,时间,shíjiān,время
2,晚上,wǎnshang,вечер
2,机场,jīchǎng,аэропорт
2,正在,zhèngzài,в процессе (чего-либо)
2,游泳,yóuyǒng,плавать
2,牛奶,niúnǎi,молоко
2,生日,shēngrì,день рождения
2,生病,shēngbìng,болеть
2,眼睛,yǎnjing,глаза
2,知道,zhīdào,знать
2,第一,dì-yī,первый
2,羊肉,yángròu,баранина
2,考试,kǎoshì,экзамен
2,西瓜,xīguā,арбуз
2,觉得,juéde,чувствовать; считать
2,说话,shuōhuà,разговаривать
2,起床,qǐchuáng,вставать с постели
2,跑步,pǎobù,бегать
2,跳舞,tiàowǔ,танцевать
2,身体,shēntǐ,тело
2,运动,yùndòng,спорт; движение
2,铅笔,qiānbǐ,карандаш
2,问题,wèntí,вопрос; проблема
2,非常,fēicháng,очень
2,面条,miàntiáo,лапша
2,颜色,yánsè,цвет
2,鸡蛋,jīdàn,яйцо
2,为什么,wèishénme,почему
2,打篮球,dǎ lánqiú,играть в баскетбол
2,服务员,fúwùyuán,официант; обслуживающий персонал
2,火车站,huǒchēzhàn,железнодорожный вокзал
2,踢足球,tī zúqiú,играть в футбол
2,公共汽车,gōnggòng qìchē,автобус
2,因为所以,yīnwèi suǒyǐ,потому что... поэтому...
2,虽然但是,suīrán dànshì,хотя... но...
3,万,wàn,десять тысяч
3,东,dōng,восток
3,为,wèi,для
3,久,jiǔ,долго
3,伞,sǎn,зонт
3,位,wèi,счётное слово для людей
3,借,jiè,брать взаймы
3,像,xiàng,похожий; как
3,元,yuán,юань
3,先,xiān,сначала
3,关,guān,закрывать
3,分,fēn,минута; балл
3,刻,kè,четверть часа
3,包,bāo,сумка; пакет
3,半,bàn,половина
3,又,yòu,снова; и... и...
3,双,shuāng,пара
3,发,fā,отправлять
3,口,kǒu,рот
3,只,zhǐ,только
3,只,zhī,счётное слово для животных
3,向,xiàng,в направлении
3,哭,kū,плакать
3,啊,a,междометие
3,嘴,zuǐ,рот
3,地,de,наречный суффикс
3,坏,huài,плохой; сломанный
3,层,céng,слой; этаж
3,差,chà,плохой; отличаться
3,带,dài,приносить; пояс
3,张,zhāng,счётное слово для плоских предметов
3,把,bǎ,предложный маркер
3,拿,ná,брать
3,换,huàn,менять
3,接,jiē,встречать; соединять
3,搬,bān,переезжать; перемещать
3,放,fàng,ставить; отпускать
3,教,jiāo,учить
3,旧,jiù,старый
3,更,gèng,более
3,条,tiáo,счётное слово для длинных предметов
3,树,shù,дерево
3,楼,lóu,здание; этаж
3,段,duàn,отрезок; часть
3,渴,kě,хотеть пить
3,灯,dēng,лампа; свет
3,班,bān,класс; смена
3,甜,tián,сладкий
3,用,yòng,использовать
3,画,huà,рисовать; картина
3,疼,téng,болеть
3,瘦,shòu,худой
3,短,duǎn,короткий
3,矮,ǎi,низкий
3,碗,wǎn,чашка
3,种,zhǒng,вид; сорт
3,站,zhàn,стоять; станция
3,米,mǐ,рис; метр
3,绿,lǜ,зелёный
3,老,lǎo,старый
3,胖,pàng,толстый
3,脚,jiǎo,нога
3,脸,liǎn,лицо
3,腿,tuǐ,нога (бедро)
3,船,chuán,корабль
3,花,huā,цветок
3,花,huā,тратить (деньги)
3,草,cǎo,трава
3,蓝,lán,синий
3,被,bèi,пассивный маркер
3,西,xī,запад
3,讲,jiǎng,говорить; объяснять
3,试,shì,пробовать; тестировать
3,越,yuè,более
3,跟,gēn,с; следовать
3,辆,liàng,счётное слово для транспортных средств
3,过,guo,суффикс опыта
3,还,huán,возвращать
3,长,zhǎng,расти; старший
3,难,nán,трудный
3,饱,bǎo,сытый
3,饿,è,голодный
3,马,mǎ,лошадь
3,骑,qí,ехать верхом
3,鸟,niǎo,птица
3,冬,dōng,зима
3,南,nán,юг
3,夏,xià,лето
3,春,chūn,весна
3,极,jí,крайне
3,秋,qiū,осень
3,角,jiǎo,угол; рог
3,一共,yīgòng,всего
3,一定,yīdìng,обязательно
3,一样,yīyàng,одинаковый
3,一直,yīzhí,прямо; постоянно
3,一般,yībān,обычный
3,一边,yībiān,одновременно
3,上网,shàngwǎng,выходить в интернет
3,世界,shìjiè,мир
3,个子,gèzi,рост
3,中文,Zhōngwén,китайский язык
3,中间,zhōngjiān,середина
3,为了,wèile,для того чтобы
3,主要,zhǔyào,основной
3,习惯,xíguàn,привычка
3,了解,liǎojiě,понимать; узнавать
3,以前,yǐqián,раньше
3,会议,huìyì,совещание
3,体育,tǐyù,спорт
3,作业,zuòyè,домашнее задание
3,健康,jiànkāng,здоровье
3,公园,gōngyuán,парк
3,公斤,gōngjīn,килограмм
3,关于,guānyú,о; относительно
3,关心,guānxīn,заботиться
3,关系,guānxi,отношения
3,其他,qítā,другие
3,其实,qíshí,на самом деле
3,最后,zuìhòu,последний
3,最近,zuìjìn,недавно
3,冰箱,bīngxiāng,холодильник
3,决定,juédìng,решать; решение
3,几乎,jīhū,почти
3,刚才,gāngcái,только что
3,别人,biérén,другие люди
3,刮风,guāfēng,дует ветер
3,刷牙,shuāyá,чистить зубы
3,办法,bànfǎ,способ; метод
3,动物,dòngwù,животное
3,努力,nǔlì,стараться; усилия
3,历史,lìshǐ,история
3,参加,cānjiā,участвовать
3,发烧,fāshāo,температура
3,发现,fāxiàn,обнаруживать
3,叔叔,shūshu,дядя
3,变化,biànhuà,меняться; изменение
3,句子,jùzi,предложение
3,可爱,kě'ài,милый
3,司机,sījī,водитель
3,同事,tóngshì,коллега
3,同意,tóngyì,соглашаться
3,后来,hòulái,позже
3,周末,zhōumò,выходные
3,啤酒,píjiǔ,пиво
3,回答,huídá,отвечать
3,国家,guójiā,страна
3,地图,dìtú,карта
3,地方,dìfāng,место
3,地铁,dìtiě,метро
3,城市,chéngshì,город
3,声音,shēngyīn,звук
3,复习,fùxí,повторять
3,多么,duōme,как (восклицание)
3,太阳,tàiyang,солнце
3,头发,tóufa,волосы
3,奇怪,qíguài,странный
3,奶奶,nǎinai,бабушка
3,如果,rúguǒ,если
3,季节,jìjié,время года
3,安静,ānjìng,тихий
3,完成,wánchéng,завершать
3,客人,kèrén,гость
3,害怕,hàipà,бояться
3,容易,róngyì,легкий
3,小心,xiǎoxīn,осторожный
3,帮忙,bāngmáng,помогать
3,帽子,màozi,шапка
3,干净,gānjìng,чистый
3,年级,niánjí,класс (в школе)
3,年轻,niánqīng,молодой
3,应该,yīnggāi,должен
3,当然,dāngrán,конечно
3,影响,yǐngxiǎng,влиять; влияние
3,必须,bìxū,должен; необходимо
3,忘记,wàngjì,забывать
3,总是,zǒngshì,всегда
3,感冒,gǎnmào,простуда
3,愿意,yuànyì,хотеть; быть готовым
3,成绩,chéngjì,оценка; результат
3,或者,huòzhě,или
3,打扫,dǎsǎo,убирать
3,打算,dǎsuàn,планировать
3,护照,hùzhào,паспорт
3,担心,dānxīn,беспокоиться
3,提高,tígāo,повышать
3,放心,fàngxīn,не беспокоиться
3,故事,gùshi,история; рассказ
3,数学,shùxué,математика
3,文化,wénhuà,культура
3,新闻,xīnwén,новости
3,新鲜,xīnxiān,свежий
3,方便,fāngbiàn,удобный
3,明白,míngbai,понимать
3,月亮,yuèliang,луна
3,有名,yǒumíng,известный
3,机会,jīhuì,возможность
3,校长,xiàozhǎng,директор школы
3,根据,gēnjù,согласно
3,检查,jiǎnchá,проверять
3,欢迎,huānyíng,приветствовать
3,比赛,bǐsài,соревнование
3,比较,bǐjiào,сравнивать
3,水平,shuǐpíng,уровень
3,注意,zhùyì,обращать внимание
3,洗澡,xǐzǎo,принимать душ
3,清楚,qīngchu,ясный
3,游戏,yóuxì,игра
3,满意,mǎnyì,довольный
3,热情,rèqíng,гостеприимный; энтузиазм
3,然后,ránhòu,потом
3,照片,zhàopiàn,фотография
3,照顾,zhàogù,заботиться
3,熊猫,xióngmāo,панда
3,爬山,páshān,подниматься в горы
3,爱好,àihào,хобби
3,爷爷,yéye,дедушка
3,特别,tèbié,особенный
3,环境,huánjìng,окружающая среда
3,瓶子,píngzi,бутылка
3,生气,shēngqì,сердиться
3,电梯,diàntī,лифт
3,留学,liúxué,учиться за границей
3,皮鞋,píxié,кожаная обувь
3,盘子,pánzi,тарелка
3,相信,xiāngxìn,верить
3,着急,zháojí,волноваться
3,礼物,lǐwù,подарок
3,离开,líkāi,уходить
3,空调,kōngtiáo,кондиционер
3,突然,tūrán,внезапно
3,筷子,kuàizi,палочки для еды
3,简单,jiǎndān,простой
3,练习,liànxí,упражняться
3,终于,zhōngyú,наконец
3,经常,jīngcháng,часто
3,经理,jīnglǐ,менеджер
3,经过,jīngguò,проходить через
3,结婚,jiéhūn,жениться
3,结束,jiéshù,заканчивать
3,耳朵,ěrduo,ухо
3,聪明,cōngming,умный
3,自己,zìjǐ,сам
3,舒服,shūfu,комфортный
3,节日,jiérì,праздник
3,节目,jiémù,программа
3,菜单,càidān,меню
3,蛋糕,dàngāo,торт
3,街道,jiēdào,улица
3,衬衫,chènshān,рубашка
3,裙子,qúnzi,юбка
3,裤子,kùzi,брюки
3,要求,yāoqiú,требовать
3,见面,jiànmiàn,встречаться
3,解决,jiějué,решать (проблему)
3,认为,rènwéi,считать; полагать
3,认真,rènzhēn,серьёзный
3,记得,jìde,помнить
3,词典,cídiǎn,словарь
3,请假,qǐngjià,брать отгул
3,起来,qǐlai,вставать; начинать
3,起飞,qǐfēi,взлетать
3,超市,chāoshì,супермаркет
3,过去,guòqù,прошлое
3,还是,háishi,или (в вопросах)
3,迟到,chídào,опаздывать
3,选择,xuǎnzé,выбирать
3,遇到,yùdào,встречать
3,邻居,línjū,сосед
3,重要,zhòngyào,важный
3,银行,yínháng,банк
3,锻炼,duànliàn,заниматься спортом
3,阿姨,āyí,тётя
3,附近,fùjìn,рядом; окрестности
3,除了,chúle,кроме
3,难过,nánguò,грустный
3,需要,xūyào,нуждаться
3,面包,miànbāo,хлеб
3,音乐,yīnyuè,музыка
3,饮料,yǐnliào,напиток
3,香蕉,xiāngjiāo,банан
3,马上,mǎshàng,сразу
3,黄河,Huáng Hé,Жёлтая река
3,黑板,hēibǎn,доска
3,鼻子,bízi,нос
3,北方,běifāng,север
3,聊天,liáotiān,болтать
3,一会儿,yīhuǐr,немного; короткое время
3,信用卡,xìnyòngkǎ,кредитная карта
3,办公室,bàngōngshì,офис
3,只有才,zhǐyǒu cái,только если... тогда...
3,图书馆,túshūguǎn,библиотека
3,感兴趣,gǎn xìngqù,интересоваться
3,洗手间,xǐshǒujiān,туалет
3,照相机,zhàoxiàngjī,фотоаппарат
3,自行车,zìxíngchē,велосипед
3,行李箱,xínglǐxiāng,чемодан
3,笔记本,bǐjìběn,ноутбук; блокнот
3,不但而且,búdàn érqiě,не только... но и...
3,电子邮件,diànzǐ yóujiàn,электронная почта
4,与,yǔ,и; с
4,丢,diū,терять
4,举,jǔ,поднимать
4,之,zhī,之 (古典ный эквивалент 的)
4,乱,luàn,беспорядок
4,云,yún,облако
4,交,jiāo,передавать; общаться
4,以,yǐ,использовать; чтобы
4,份,fèn,порция; доля
4,低,dī,низкий
4,使,shǐ,заставлять; использовать
4,俩,liǎ,два (разговорное)
4,倍,bèi,раз; кратность
4,倒,dǎo,падать
4,假,jiǎ,ложный; поддельный
4,停,tíng,останавливаться
4,光,guāng,свет; голый
4,内,nèi,внутренний
4,刀,dāo,нож
4,刚,gāng,только что
4,剩,shèng,оставаться
4,却,què,однако
4,厚,hòu,толстый
4,取,qǔ,брать
4,台,tái,платформа; Тайвань
4,各,gè,каждый
4,呀,ya,междометие
4,咸,xián,солёный
4,响,xiǎng,звучать; громкий
4,困,kùn,усталый; спать
4,场,chǎng,площадка; сцена
4,够,gòu,достаточно
4,存,cún,хранить
4,寄,jì,отправлять
4,富,fù,богатый
4,尝,cháng,пробовать
4,帅,shuài,красивый (о мужчине)
4,干,gān,сухой; делать
4,底,dǐ,дно
4,座,zuò,место; сиденье
4,弄,nòng,делать; возиться
4,当,dāng,когда; работать как
4,得,de,получаться
4,懒,lǎn,ленивый
4,戴,dài,носить (на голове)
4,扔,rēng,бросать
4,抬,tái,поднимать
4,抱,bào,обнимать
4,拉,lā,тянуть
4,挂,guà,вешать
4,指,zhǐ,указывать; палец
4,挺,tǐng,очень; прямой
4,掉,diào,падать; терять
4,推,tuī,толкать
4,提,tí,поднимать; предлагать
4,擦,cā,тереть; чистить
4,收,shōu,получать
4,敢,gǎn,сметь
4,敲,qiāo,стучать
4,无,wú,не иметь
4,桥,qiáo,мост
4,梦,mèng,сон; мечта
4,棒,bàng,отличный; палка
4,棵,kē,счётное слово для деревьев
4,死,sǐ,умирать
4,毛,máo,волос; мелочь
4,汗,hàn,пот
4,汤,tāng,суп
4,深,shēn,глубокий
4,满,mǎn,полный
4,火,huǒ,огонь
4,照,zhào,освещать; фотографировать
4,猜,cāi,угадывать
4,由,yóu,из-за; позволять
4,留,liú,оставаться
4,盐,yán,соль
4,省,shěng,провинция; экономить
4,破,pò,ломать; разбитый
4,秒,miǎo,секунда
4,租,zū,арендовать
4,穷,qióng,бедный
4,空,kōng,пустой
4,笨,bèn,глупый
4,等,děng,ждать
4,篇,piān,счётное слово для статей
4,糖,táng,сахар
4,而,ér,и; но
4,脏,zāng,грязный
4,脱,tuō,снимать (одежду)
4,节,jié,экономить; сустав
4,苦,kǔ,горький
4,行,xíng,идти; можно
4,谈,tán,говорить; обсуждать
4,赚,zhuàn,зарабатывать
4,赢,yíng,выигрывать
4,赶,gǎn,торопиться
4,趟,tàng,раз (счётное слово для поездок)
4,躺,tǎng,лежать
4,转,zhuǎn,поворачивать
4,轻,qīng,лёгкий
4,输,shū,проигрывать
4,辣,là,острый
4,连,lián,даже; соединять
4,逛,guàng,гулять
4,遍,biàn,везде; раз (счётное слово)
4,酸,suān,кислый
4,醒,xǐng,просыпаться
4,重,zhòng,тяжёлый
4,陪,péi,сопровождать
4,页,yè,страница
4,香,xiāng,ароматный
4,骗,piàn,обманывать
4,一切,yīqiè,всё
4,不仅,bùjǐn,не только
4,不管,bùguǎn,независимо от
4,不过,búguò,однако
4,专业,zhuānyè,профессия; специализированный
4,专门,zhuānmén,специально
4,世纪,shìjì,век
4,严格,yángé,строгий
4,严重,yánzhòng,серьёзный
4,丰富,fēngfù,богатый
4,主意,zhǔyì,идея
4,举办,jǔbàn,проводить
4,举行,jǔxíng,проводить
4,乘坐,chéngzuò,ехать на
4,也许,yěxǔ,возможно
4,于是,yúshì,поэтому
4,互相,hùxiāng,взаимно
4,亚洲,Yàzhōu,Азия
4,交流,jiāoliú,обмен
4,交通,jiāotōng,транспорт
4,京剧,jīngjù,пекинская опера
4,亲戚,qīnqi,родственники
4,仍然,réngrán,всё ещё
4,从来,cónglái,всегда (с отрицанием)
4,仔细,zǐxì,внимательный
4,付款,fùkuǎn,платить
4,以为,yǐwéi,думать (ошибочно)
4,价格,jiàgé,цена
4,任何,rènhé,любой
4,任务,rènwu,задача
4,优点,yōudiǎn,преимущество
4,优秀,yōuxiù,отличный
4,传真,chuánzhēn,факс
4,伤心,shāngxīn,грустный
4,估计,gūjì,оценивать
4,作家,zuòjiā,писатель
4,作用,zuòyòng,функция; эффект
4,作者,zuòzhě,автор
4,使用,shǐyòng,использовать
4,例如,lìrú,например
4,保护,bǎohù,защищать
4,保证,bǎozhèng,гарантировать
4,信封,xìnfēng,конверт
4,信心,xìnxīn,уверенность
4,信息,xìnxī,информация
4,修理,xiūlǐ,чинить
4,值得,zhíde,стоить
4,偶尔,ǒu'ěr,иногда
4,儿童,értóng,дети
4,允许,yǔnxǔ,позволять
4,免费,miǎnfèi,бесплатный
4,入口,rùkǒu,вход
4,全部,quánbù,все
4,公里,gōnglǐ,километр
4,共同,gòngtóng,общий
4,关键,guānjiàn,ключевой
4,兴奋,xīngfèn,взволнованный
4,其中,qízhōng,среди
4,其次,qícì,во-вторых
4,养成,yǎngchéng,воспитывать
4,内容,nèiróng,содержание
4,最好,zuìhǎo,лучший
4,冷静,lěngjìng,спокойный
4,准时,zhǔnshí,вовремя
4,准确,zhǔnquè,точный
4,凉快,liángkuai,прохладный
4,减少,jiǎnshǎo,уменьшать
4,减肥,jiǎnféi,худеть
4,出发,chūfā,отправляться
4,出差,chūchāi,командировка
4,出现,chūxiàn,появляться
4,出生,chūshēng,рождаться
4,判断,pànduàn,судить; решение
4,到处,dàochù,везде
4,到底,dàodǐ,в конце концов
4,力气,lìqi,сила
4,功夫,gōngfu,кунг-фу; время
4,加班,jiābān,сверхурочная работа
4,动作,dòngzuò,движение
4,勇敢,yǒnggǎn,храбрый
4,包子,bāozi,паровые булочки
4,区别,qūbié,различие
4,十分,shífēn,очень
4,千万,qiānwàn,ни в коем случае
4,博士,bóshì,доктор (степень)
4,占线,zhànxiàn,занято (телефон)
4,印象,yìnxiàng,впечатление
4,危险,wēixiǎn,опасный
4,即使,jíshǐ,даже если
4,厉害,lìhai,сильный; ужасный
4,压力,yālì,давление
4,厕所,cèsuǒ,туалет
4,原因,yuányīn,причина
4,原来,yuánlái,оказывается
4,原谅,yuánliàng,прощать
4,厨房,chúfáng,кухня
4,参观,cānguān,посещать
4,及时,jíshí,вовремя
4,友好,yǒuhǎo,дружелюбный
4,友谊,yǒuyì,дружба
4,反对,fǎnduì,против
4,发展,fāzhǎn,развивать
4,发生,fāshēng,происходить
4,另外,lìngwài,другой; кроме того
4,只好,zhǐhǎo,приходится
4,只要,zhǐyào,только если
4,可怜,kělián,жалкий
4,可惜,kěxī,жаль
4,可是,kěshì,но
4,叶子,yèzi,лист
4,号码,hàomǎ,номер
4,吃惊,chījīng,удивляться
4,合格,hégé,квалифицированный
4,合适,héshì,подходящий
4,同情,tóngqíng,сочувствовать
4,同时,tóngshí,одновременно
4,后悔,hòuhuǐ,сожалеть
4,否则,fǒuzé,иначе
4,吸引,xīyǐn,привлекать
4,周围,zhōuwéi,вокруг
4,味道,wèidao,вкус; запах
4,咱们,zánmen,мы (включая собеседника)
4,咳嗽,késou,кашлять
4,商量,shāngliang,обсуждать
4,回忆,huíyì,вспоминать
4,因此,yīncǐ,поэтому
4,困难,kùnnan,трудность
4,国籍,guójí,гражданство
4,国际,guójì,международный
4,地址,dìzhǐ,адрес
4,地点,dìdiǎn,место
4,地球,dìqiú,Земля
4,坚持,jiānchí,настаивать
4,基础,jīchǔ,основа
4,堵车,dǔchē,пробка
4,填空,tiánkòng,заполнять пробелы
4,增加,zēngjiā,увеличивать
4,复印,fùyìn,копировать
4,复杂,fùzá,сложный
4,大夫,dàifu,врач
4,大概,dàgài,примерно
4,大约,dàyuē,приблизительно
4,失望,shīwàng,разочаровывать
4,失败,shībài,поражение
4,奖金,jiǎngjīn,бонус
4,好像,hǎoxiàng,кажется
4,好处,hǎochu,преимущество
4,孙子,sūnzi,внук
4,学期,xuéqī,семестр
4,安全,ānquán,безопасный
4,安排,ānpái,организовывать
4,完全,wánquán,полностью
4,实在,shízai,действительно
4,实际,shíjì,фактический
4,客厅,kètīng,гостиная
4,害羞,hàixiū,застенчивый
4,家具,jiājù,мебель
4,密码,mìmǎ,пароль
4,寒假,hánjià,зимние каникулы
4,对于,duìyú,относительно
4,对话,duìhuà,диалог
4,对面,duìmiàn,напротив
4,导游,dǎoyóu,гид
4,将来,jiānglái,будущее
4,尊重,zūnzhòng,уважать
4,小吃,xiǎochī,закуска
4,小说,xiǎoshuō,роман
4,尤其,yóuqí,особенно
4,尽管,jǐnguǎn,хотя; не стесняйтесь
4,工资,gōngzī,зарплата
4,左右,zuǒyòu,примерно; лево-право
4,师傅,shīfu,мастер
4,干杯,gānbēi,до дна
4,平时,píngshí,обычно
4,年龄,niánlíng,возраст
4,并且,bìngqiě,и; кроме того
4,幸福,xìngfú,счастье
4,幽默,yōumò,юмор
4,广告,guǎnggào,реклама
4,广播,guǎngbō,радио
4,应聘,yìngpìn,откликаться на вакансию
4,座位,zuòwèi,место
4,建议,jiànyì,предлагать
4,开心,kāixīn,радостный
4,引起,yǐnqǐ,вызывать
4,当时,dāngshí,в то время
4,往往,wǎngwǎng,часто
4,律师,lǜshī,адвокат
4,得意,déyì,самодовольный
4,心情,xīnqíng,настроение
4,怀疑,huáiyí,подозревать
4,态度,tàidu,отношение
4,性别,xìngbié,пол
4,性格,xìnggé,характер
4,总结,zǒngjié,подводить итоги
4,恐怕,kǒngpà,боюсь что
4,情况,qíngkuàng,ситуация
4,愉快,yúkuài,приятный
4,意见,yìjiàn,мнение
4,感动,gǎndòng,трогать
4,感情,gǎnqíng,чувства
4,感觉,gǎnjué,чувствовать
4,感谢,gǎnxiè,благодарить
4,成为,chéngwéi,становиться
4,成功,chénggōng,успех
4,房东,fángdōng,арендодатель
4,所有,suǒyǒu,все
4,打印,dǎyìn,печатать
4,打扮,dǎban,наряжаться
4,打扰,dǎrǎo,беспокоить
4,打折,dǎzhé,делать скидку
4,打针,dǎzhēn,делать укол
4,批评,pīpíng,критиковать
4,技术,jìshù,технология
4,护士,hùshi,медсестра
4,报名,bàomíng,записываться
4,抱歉,bàoqiàn,извините
4,抽烟,chōuyān,курить
4,拒绝,jùjué,отказывать
4,招聘,zhāopìn,нанимать
4,按时,ànshí,вовремя
4,按照,ànzhào,согласно
4,排列,páiliè,располагать в порядке
4,排队,páiduì,стоять в очереди
4,接受,jiēshòu,принимать
4,接着,jiēzhe,продолжать
4,推迟,tuīchí,откладывать
4,提供,tígōng,предоставлять
4,提前,tíqián,досрочно
4,提醒,tíxǐng,напоминать
4,支持,zhīchí,поддерживать
4,收入,shōurù,доход
4,收拾,shōushi,убирать
4,改变,gǎibiàn,менять
4,放弃,fàngqì,отказываться
4,放松,fàngsōng,расслабляться
4,故意,gùyì,намеренно
4,效果,xiàoguǒ,эффект
4,教授,jiàoshòu,профессор
4,教育,jiàoyù,образование
4,散步,sànbù,гулять
4,数字,shùzì,цифра
4,数量,shùliàng,количество
4,整理,zhěnglǐ,организовывать
4,文章,wénzhāng,статья
4,方向,fāngxiàng,направление
4,方法,fāngfǎ,метод
4,方面,fāngmiàn,аспект
4,旅行,lǚxíng,путешествовать
4,无聊,wúliáo,скучный
4,无论,wúlùn,независимо от
4,既然,jìrán,поскольку
4,日记,rìjì,дневник
4,是否,shìfǒu,ли
4,普遍,pǔbiàn,распространённый
4,景色,jǐngsè,пейзаж
4,暂时,zànshí,временно
4,暖和,nuǎnhuo,тёплый
4,有趣,yǒuqù,интересный
4,本来,běnlái,изначально
4,杂志,zázhì,журнал
4,材料,cáiliào,материал
4,条件,tiáojiàn,условие
4,来自,láizì,приходить из
4,果汁,guǒzhī,сок
4,标准,biāozhǔn,стандарт
4,样子,yàngzi,вид; внешность
4,森林,sēnlín,лес
4,植物,zhíwù,растение
4,橡皮,xiàngpí,ластик
4,正好,zhènghǎo,как раз
4,正常,zhèngcháng,нормальный
4,正式,zhèngshì,официальный
4,正确,zhèngquè,правильный
4,母亲,mǔqīn,мать
4,比如,bǐrú,например
4,毕业,bìyè,оканчивать
4,毛巾,máojīn,полотенце
4,民族,mínzú,национальность
4,气候,qìhòu,климат
4,永远,yǒngyuǎn,навсегда
4,污染,wūrǎn,загрязнение
4,沙发,shāfā,диван
4,法律,fǎlǜ,закон
4,活动,huódòng,мероприятие
4,活泼,huópō,живой
4,流利,liúlì,беглый
4,流行,liúxíng,популярный
4,浪漫,làngmàn,романтичный
4,浪费,làngfèi,тратить впустую
4,海洋,hǎiyáng,океан
4,消息,xiāoxi,новость
4,温度,wēndù,температура
4,演出,yǎnchū,выступление
4,演员,yǎnyuán,актёр
4,激动,jīdòng,взволнованный
4,烤鸭,kǎoyā,утка по-пекински
4,烦恼,fánnǎo,беспокойство
4,热闹,rènao,оживлённый
4,然而,rán'ér,однако
4,熟悉,shúxī,знакомый
4,爱情,àiqíng,любовь
4,父亲,fùqīn,отец
4,牙膏,yágāo,зубная паста
4,特点,tèdiǎn,особенность
4,现金,xiànjīn,наличные
4,理发,lǐfà,стричься
4,理想,lǐxiǎng,идеал
4,理解,lǐjiě,понимать
4,甚至,shènzhì,даже
4,生命,shēngmìng,жизнь
4,生意,shēngyi,бизнес
4,生活,shēnghuó,жизнь; жить
4,由于,yóuyú,из-за
4,申请,shēnqǐng,подавать заявление
4,皮肤,pífū,кожа
4,盒子,hézi,коробка
4,目的,mùdì,цель
4,直接,zhíjiē,прямой
4,相反,xiāngfǎn,противоположный
4,相同,xiāngtóng,одинаковый
4,看法,kànfǎ,взгляд; мнение
4,真正,zhēnzhèng,настоящий
4,眼镜,yǎnjìng,очки
4,知识,zhīshi,знание
4,短信,duǎnxìn,смс
4,研究,yánjiū,исследовать
4,硕士,shuòshì,магистр
4,确实,quèshí,действительно
4,礼貌,lǐmào,вежливый
4,社会,shèhuì,общество
4,祝贺,zhùhè,поздравлять
4,禁止,jìnzhǐ,запрещать
4,科学,kēxué,наука
4,积极,jījí,активный
4,积累,jīlěi,накапливать
4,稍微,shāowēi,немного
4,究竟,jiūjìng,в конце концов
4,空气,kōngqì,воздух
4,窗户,chuānghu,окно
4,竞争,jìngzhēng,конкуренция
4,笑话,xiàohua,шутка
4,符合,fúhé,соответствовать
4,答案,dá'àn,ответ
4,签证,qiānzhèng,виза
4,管理,guǎnlǐ,управлять
4,粗心,cūxīn,небрежный
4,精彩,jīngcǎi,блестящий
4,紧张,jǐnzhāng,нервный
4,约会,yuēhuì,свидание
4,经历,jīnglì,опыт; переживать
4,经济,jīngjì,экономика
4,经验,jīngyàn,опыт
4,结果,jiéguǒ,результат
4,继续,jìxù,продолжать
4,缺少,quēshǎo,не хватать
4,缺点,quēdiǎn,недостаток
4,网球,wǎngqiú,теннис
4,网站,wǎngzhàn,веб-сайт
4,美丽,měilì,красивый
4,羡慕,xiànmù,завидовать
4,翻译,fānyì,переводить
4,老虎,lǎohǔ,тигр
4,考虑,kǎolǜ,обдумывать
4,耐心,nàixīn,терпеливый
4,职业,zhíyè,профессия
4,联系,liánxì,связываться
4,聚会,jùhuì,встреча; вечеринка
4,肚子,dùzi,живот
4,肯定,kěndìng,определённо
4,胳膊,gēbo,рука
4,能力,nénglì,способность
4,脾气,píqi,характер
4,自信,zìxìn,уверенный в себе
4,自然,zìrán,естественный
4,至少,zhìshǎo,по крайней мере
4,航班,hángbān,рейс
4,艺术,yìshù,искусство
4,节约,jiéyuē,экономить
4,获得,huòdé,получать
4,著名,zhùmíng,известный
4,葡萄,pútao,виноград
4,表扬,biǎoyáng,хвалить
4,表格,biǎogé,таблица
4,表演,biǎoyǎn,выступать
4,表示,biǎoshì,выражать
4,袜子,wàzi,носки
4,要是,yàoshi,если бы
4,观众,guānzhòng,зритель
4,规定,guīdìng,правило
4,解释,jiěshì,объяснять
4,警察,jǐngchá,полиция
4,计划,jìhuà,план
4,讨厌,tǎoyàn,неприятный
4,讨论,tǎolùn,обсуждать
4,记者,jìzhě,журналист
4,许多,xǔduō,много
4,证明,zhèngmíng,доказывать
4,词汇,cíhuì,словарный запас
4,诚实,chéngshí,честный
4,详细,xiángxì,подробный
4,语法,yǔfǎ,грамматика
4,语言,yǔyán,язык
4,误会,wùhuì,недоразумение
4,说明,shuōmíng,объяснять
4,调查,diàochá,исследовать
4,负责,fùzé,отвечать за
4,责任,zérèn,ответственность
4,质量,zhìliàng,качество
4,购物,gòuwù,покупать
4,超过,chāoguò,превышать
4,距离,jùlí,расстояние
4,轻松,qīngsōng,лёгкий
4,辛苦,xīnkǔ,тяжёлый
4,过程,guòchéng,процесс
4,进行,jìnxíng,проводить
4,迷路,mílù,заблудиться
4,适合,shìhé,подходить
4,适应,shìyìng,адаптироваться
4,通知,tōngzhī,уведомлять
4,通过,tōngguò,проходить
4,速度,sùdù,скорость
4,道歉,dàoqiàn,извиняться
4,邀请,yāoqǐng,приглашать
4,邮局,yóujú,почта
4,郊区,jiāoqū,пригород
4,部分,bùfen,часть
4,重新,chóngxīn,заново
4,重点,zhòngdiǎn,ключевой момент
4,重视,zhòngshì,придавать значение
4,钥匙,yàoshi,ключ
4,错误,cuòwù,ошибка
4,镜子,jìngzi,зеркало
4,长城,Chángchéng,Великая стена
4,长江,Cháng Jiāng,река Янцзы
4,阅读,yuèdú,читать
4,阳光,yángguāng,солнечный свет
4,降低,jiàngdī,снижать
4,降落,jiàngluò,приземляться
4,随便,suíbiàn,как угодно
4,随着,suízhe,вместе с
4,难受,nánshòu,неприятный
4,难道,nándào,неужели
4,零钱,língqián,мелочь
4,竟然,jìngrán,неожиданно
4,顺便,shùnbiàn,между прочим
4,顺利,shùnlì,гладкий
4,顺序,shùnxù,порядок
4,顾客,gùkè,клиент
4,预习,yùxí,подготавливаться
4,餐厅,cāntīng,ресторан
4,饺子,jiǎozi,пельмени
4,饼干,bǐnggān,печенье
4,首先,shǒuxiān,во-первых
4,首都,shǒudū,столица
4,马虎,mǎhu,небрежный
4,骄傲,jiāo'ào,гордый
4,麻烦,máfan,проблема; беспокоить
4,鼓励,gǔlì,поощрять
4,勺子,sháozi,ложка
4,受到,shòudào,получать
4,不得不,bùdébù,вынужден
4,乒乓球,pīngpāngqiú,настольный теннис
4,互联网,hùliánwǎng,интернет
4,加油站,jiāyóuzhàn,заправочная станция
4,卫生间,wèishēngjiān,туалет
4,受不了,shòubuliǎo,не выносить
4,售货员,shòuhuòyuán,продавец
4,垃圾桶,lājītǒng,мусорное ведро
4,塑料袋,sùliàodài,пластиковый пакет
4,大使馆,dàshǐguǎn,посольство
4,小伙子,xiǎohuǒzi,парень
4,巧克力,qiǎokèlì,шоколад
4,差不多,chàbuduō,почти
4,开玩笑,kāi wánxiào,шутить
4,弹钢琴,tán gāngqín,играть на пианино
4,打招呼,dǎ zhāohu,приветствовать
4,放暑假,fàng shǔjià,уходить на летние каникулы
4,普通话,Pǔtōnghuà,путунхуа
4,来不及,láibují,не успеть
4,来得及,láidejí,успеть
4,登机牌,dēngjīpái,посадочный талон
4,百分之,bǎi fēn zhī,процент
4,矿泉水,kuàngquánshuǐ,минеральная вода
4,礼拜天,lǐbàitiān,воскресенье
4,羽毛球,yǔmáoqiú,бадминтон
4,西红柿,xīhóngshì,помидор
4,高速公路,gāosù gōnglù,автострада
`;

// Parse CSV to array of records
function parseCSV(text){
  const lines = text.trim().split(/\r?\n/);
  const headers = lines.shift().split(",").map(s=>s.trim());
  return lines.map(line=>{
    const parts = []; let current=""; let inQuotes=false;
    for (let i=0;i<line.length;i++){
      const ch=line[i];
      if(ch==='\"'){ inQuotes=!inQuotes; continue; }
      if(ch===',' && !inQuotes){ parts.push(current); current=""; continue; }
      current+=ch;
    }
    parts.push(current);
    const obj={};
    headers.forEach((h,idx)=>obj[h]= (parts[idx]||"").trim());
    obj.level = String(obj.level||"").trim();
    return obj;
  });
}

const STATE_KEY = "hsk_known_v1";
const state = {
  known: new Set(JSON.parse(localStorage.getItem(STATE_KEY) || "[]"))
};

let data = [];
let filtered = [];

// Try to fetch external hsk.csv; otherwise use sample
async function loadData(){
  try{
    const r = await fetch("hsk.csv", {cache:"no-store"});
    if(r.ok){
      const t = await r.text();
      data = parseCSV(t);
    } else {
      data = parseCSV(sampleCSV);
    }
  }catch(e){
    data = parseCSV(sampleCSV);
  }
  render();
}
loadData();

// --- UI & interactions ---
const grid = document.getElementById("grid");
const stats = document.getElementById("stats");
const levelFilter = document.getElementById("levelFilter");
const searchBox = document.getElementById("searchBox");
const sheet = document.getElementById("sheet");
const dHan = document.getElementById("d-han");
const dPy = document.getElementById("d-py");
const dTr = document.getElementById("d-tr");
const dLevel = document.getElementById("d-level");
const toggleKnownBtn = document.getElementById("toggleKnownBtn");
const copyBtn = document.getElementById("copyBtn");
const closeBtn = document.getElementById("closeBtn");

let currentItem = null;

function render(){
  const level = levelFilter.value;
  const q = (searchBox.value||"").toLowerCase().trim();
  filtered = data.filter(r=>(level==="all" || r.level===level) && (
    !q || r.han.includes(q) || (r.pinyin||"").toLowerCase().includes(q) || (r.ru||"").toLowerCase().includes(q)
  ));

  grid.innerHTML = "";
  filtered.forEach((r,idx)=>{
    const div = document.createElement("div");
    div.className="cell";
    div.setAttribute("role","listitem");
    div.dataset.level = r.level || "1";
    div.dataset.key = r.han;
    if(state.known.has(r.han)) div.dataset.known="1";
    div.textContent = r.han;
    div.addEventListener("click", ()=> openSheet(r));
    grid.appendChild(div);
  });

  // Stats
  const perLevel = [1,2,3,4,5,6].map(l=>{
    const total = data.filter(r=>String(r.level)===String(l)).length;
    const known = data.filter(r=>String(r.level)===String(l) && state.known.has(r.han)).length;
    return {l,total,known};
  });
  const totalAll = data.length;
  const knownAll = data.filter(r=>state.known.has(r.han)).length;
  stats.innerHTML = `Всего: <b>${knownAll}/${totalAll}</b> • ` + perLevel.map(x=>`HSK${x.l}: ${x.known}/${x.total}`).join(" • ");
}

function openSheet(r){
  currentItem = r;
  dHan.textContent = r.han;
  dPy.textContent = (r.pinyin && r.pinyin.trim()) ? r.pinyin : "—";
  dTr.textContent = (r.ru && r.ru.trim()) ? r.ru : "—";
  dLevel.textContent = r.level || "";
  toggleKnownBtn.textContent = state.known.has(r.han) ? "Снять отметку" : "Отметить как выучено";
  if(!sheet.open) sheet.showModal();
}

toggleKnownBtn.addEventListener("click", ()=>{
  if(!currentItem) return;
  const key = currentItem.han;
  if(state.known.has(key)) state.known.delete(key);
  else state.known.add(key);
  localStorage.setItem(STATE_KEY, JSON.stringify([...state.known]));
  sheet.close();
  render();
});
copyBtn.addEventListener("click", ()=>{
  if(!currentItem) return;
  const t = `${currentItem.han} — ${currentItem.pinyin||""} — ${currentItem.ru||""} (HSK${currentItem.level||""})`;
  navigator.clipboard.writeText(t).catch(()=>{});
});
closeBtn.addEventListener("click", ()=> sheet.close());

// Filters
levelFilter.addEventListener("change", render);
searchBox.addEventListener("input", render);

// Import/Export/Reset
document.getElementById("importCsvBtn").addEventListener("click", ()=> fileInput.click());
const fileInput = document.getElementById("fileInput");
fileInput.addEventListener("change", (e)=>{
  const f = e.target.files[0];
  if(!f) return;
  const reader = new FileReader();
  reader.onload = () => {
    try{
      data = parseCSV(reader.result);
      localStorage.setItem(STATE_KEY, JSON.stringify([])); // optional clear marks on new deck
      state.known = new Set();
      render();
      alert("Импортировано!");
    }catch(err){
      alert("Не удалось импортировать CSV");
    }
  };
  reader.readAsText(f, "utf-8");
});

document.getElementById("exportBtn").addEventListener("click", ()=>{
  const payload = { known:[...state.known], ts: Date.now() };
  const blob = new Blob([JSON.stringify(payload,null,2)], {type: "application/json"});
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "hsk-progress.json";
  a.click();
});

document.getElementById("resetBtn").addEventListener("click", ()=>{
  if(confirm("Сбросить все отметки?")){
    state.known = new Set();
    localStorage.removeItem(STATE_KEY);
    render();
  }
});

(function(){
  const ORIG_FETCH = window.fetch ? window.fetch.bind(window) : null;
  window.fetch = function(res, init){
    try{
      const url = (typeof res === 'string') ? res : (res && res.url) || '';
      const bare = (typeof url === 'string') ? url.split('?')[0] : '';
      if (bare && bare.endsWith && bare.endsWith('hsk.csv')){
        return Promise.resolve(new Response(sampleCSV, {status:200, headers:{'Content-Type':'text/csv; charset=utf-8'}}));
      }
    }catch(e){}
    return ORIG_FETCH ? ORIG_FETCH(res, init) : Promise.reject(new Error('fetch not available'));
  };
})();
</script>
</body>
</html>
